parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"crGM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setHandlerSetting=i,exports.setWorkerSettings=c,exports.getWorkerSettings=g,exports.init=f,exports.renderFrame=y,exports.failedToGetThreadCount=exports.multithreadingAmount=exports.combineMultithreadedData=void 0;let e=!0;exports.combineMultithreadedData=e;let t=[],a=navigator.hardwareConcurrency||4;exports.multithreadingAmount=a;let r,o=void 0===navigator.hardwareConcurrency;exports.failedToGetThreadCount=o;const n=e=>new Promise(t=>e.addEventListener("message",t,{once:!0}));async function i(t,a){switch(t){case"combineMultithreadedData":exports.combineMultithreadedData=e=a}}let s,l,d,u=!1;async function c(e,r){for(let o=0;o<a;o++)t[o].postMessage(["set",e,r]);switch(e){case"useHistogramColoring":u=r;break;case"maxIterationColorScale":return}await b()}async function g(e){return t[0].postMessage(["get",e,void 0]),await n(t[0]),p}async function f(e,o=(()=>{})){o("Loading multithreading workers");let i=performance.now();r=e;let s=[];for(let r=0;r<a;r++){o(`Spawning worker ${r+1}`);let e=new Worker("/wasmMultithread.b84178ca.js");e.onmessage=h,t.push(e),s.push(n(e))}for(let t=0;t<a;t++)o(`Waiting for worker ${t+1} to load`),await s[t];return o("Loaded all multithreading workers"),performance.now()-i}let p,m=[];function h(t){if("loaded"===t.data)return;if(1===t.data.length)return void(m=t.data[0]);if(2===t.data.length)return void(p=t.data[1]);let[o,n,i,s]=t.data,u=o*n,c=new ImageData(s,n,i);if(e){if(l[d]=[c,u],++d===a)for(let e=0;e<a;e++)r.putImageData(l[e][0],l[e][1],0)}else r.putImageData(c,u,0)}let w=0,x=0;async function b(){console.log(w,x),t[0].postMessage([w,x]),await n(t[0])}async function y(e,r,o,i,s){w===e&&x===r&&0!==m.length||(w=e,x=r,await b()),l=Array(a),d=0;let u=Math.floor(e/a),c=[];for(let l=0;l<a;l++)t[l].postMessage([l,u,e,r,o,i,s,m]),c.push(n(t[l]));await Promise.all(c)}
},{"./wasmMultithread.js":[["wasmMultithread.b84178ca.js","Nq0g"],"wasmMultithread.b84178ca.js.map",["Cargo.89419927.toml","x0cg"],"Nq0g"]}],"QdeU":[function(require,module,exports) {
"use strict";var e=n(require("./wasmHandler"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t();if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}!async function(){let t,n;const o=performance.now(),a="v4.0.0";let i,r=2,l=0,c=0,d=0,s=new Array(10),u=0,m=0,f=1.2,h=[],b=!1,g=1,k=[{name:"Overview",xCam:0,yCam:0,scale:1.2},{name:"Left Mandelbrots",xCam:-1.16,yCam:0,scale:.2},{name:"Main Left Mandelbrot",xCam:-1.26,yCam:0,scale:.03},{name:"A Right Mandelbrot",xCam:.9322,yCam:.2278,scale:.003},{name:"A Top Mandelbrot",xCam:.339195,yCam:-1.0338,scale:.01203},{name:"Main Left Left Left Mandelbrot",xCam:-1.2877647,yCam:3.0719355e-7,scale:59845e-10}],y=0;const p=document.getElementById("juliaX"),w=document.getElementById("juliaY");p.oninput=C,w.oninput=C;const v=document.getElementById("introduction");function C(){e.setWorkerSettings("juliaVectorX",parseFloat(p.value)),e.setWorkerSettings("juliaVectorY",parseFloat(w.value))}v.innerHTML="Welcome to MandelWeb!\n\nClicking this closes this introduction panel, however if you have never used this before it is recommended you read below.\n\nKeyboard Controls:\n<kbd>Ctrl</kbd> + <kbd>+</kbd> or <kbd>Z</kbd>: Zoom In\n<kbd>Ctrl</kbd> + <kbd>-</kbd> or <kbd>X</kbd>: Zoom Out\n\n<kbd>W</kbd> or <kbd>ðŸ ©</kbd>: Move / Pan Up\n<kbd>A</kbd> or <kbd>ðŸ ¨</kbd>: Move / Pan Left\n<kbd>S</kbd> or <kbd>ðŸ «</kbd>: Move / Pan Down\n<kbd>D</kbd> or <kbd>ðŸ ª</kbd>: Move / Pan Right\n\n<kbd>H</kbd>: Hide Settings Panel (top left)\n<kbd>Shift</kbd> + <kbd>H</kbd>: Hide Locations (top right)",v.onclick=(()=>{v.style.display="none"});const x=document.getElementById("locations");!function(){for(let e of k){let t=document.createElement("button");t.textContent=e.name,t.onclick=function(){E(this.textContent)},x.appendChild(t)}}();const M=document.getElementById("locationInterpolateProgressBar");let I=1.19,B=1;async function E(e){let t=k.find(t=>t.name===e),n=Number(u),o=Number(m),a=Number(f);M.value=0,M.className="show";let i=0,r=0,l=[-1,0],c=!1;for(;i<1||r<1;)i<1&&(u=P(n,t.xCam,i),m=P(o,t.yCam,i)),(Math.abs(u-t.xCam)>.8||Math.abs(m-t.yCam)>.8)&&I>t.scale&&I>f&&I>a?(c=!0,1!==l[0]&&(l=[1,f],r=0),f=P(l[1],I,r)):(0!==l[0]&&(l=[0,f],r=0),f=P(l[1],t.scale,r)),(r+=c?.007:.005)>1&&(r=1),(i+=.005)>1&&(i=1),M.value=$(Math.min(i,1)),await new Promise(e=>setTimeout(e,10/B));M.className=""}let S=document.getElementById("transitionSpeed");function P(e,t,n){let o=$(n);return(1-o)*e+o*t}function $(e){return e*e*(3-2*e)}function W(){l=Math.floor(window.innerWidth/r),c=Math.floor(window.innerHeight/r),t.width=l,t.height=c,t.style.width=`${window.innerWidth}px`,t.style.height=`${window.innerHeight}px`}S.oninput=(()=>{B=parseFloat(S.value),console.log(B)});let H=document.getElementById("loading");n=(t=document.getElementById("canvas")).getContext("2d");const L=await e.init(n,e=>{H.textContent=e,"Loaded all multithreading workers"===e&&(H.textContent=e)});function Y(e){return(e.ctrlKey?"ctrl_":"")+(e.shiftKey?"shift_":"")+e.key.toLowerCase()}W(),window.onresize=W,document.oncontextmenu=function(e){return e.preventDefault(),!1},document.onkeydown=function(e){let t=Y(e);"override"!==h[t]&&(h[t]=!0),"ctrl_="!==t&&"ctrl_-"!==t||e.preventDefault()},document.onkeyup=function(e){h[Y(e)]=!1};let j=!1,D=0,F=0;function O(e){return(e/(l/3.5)-1.75)*f+u}function _(e){return(e/(c/2)-1)*f+m}function X(e){let t=.001*e.deltaY,n=O(e.clientX/r)-u,o=_(e.clientY/r)-m;f*=1+t,u-=O(e.clientX/r)-u-n,m-=_(e.clientY/r)-m-o,e.preventDefault&&e.preventDefault()}t.onmousedown=function(e){3!==e.which?(j=!0,D=e.clientX,F=e.clientY):!1===b?(b={clientX:e.clientX,clientY:e.clientY,deltaY:-g},i=setInterval(()=>{X(b)},10)):(clearInterval(i),b=!1)},t.onmousemove=function(e){if(!j)return;let t=O(e.clientX/r)-u,n=_(e.clientY/r)-m;0===D&&0===F&&(D=t,F=n),console.log(t,D),console.log(n,F),u-=t-D,m-=n-F,D=t,F=n},t.onmouseup=function(e){j=!1},t.onwheel=X;let A=performance.now(),N=.02;function T(){return N*f}let R=document.getElementById("settings"),z=document.getElementById("locationsContainer"),K=!1,Z=!0;let q=document.getElementById("debug"),V=document.getElementById("resScale");V.oninput=(()=>{r=V.value,W()});let G=document.getElementById("maxIteration");async function U(){await e.setWorkerSettings("maxIteration",G.value),await e.setWorkerSettings("maxIterationColorScale",255/G.value)}G.oninput=U;let J=document.getElementById("autozoomSpeed");J.oninput=(()=>{g=J.value,!1!==b&&(b.deltaY=-g)});let Q=document.getElementById("linesBetween");Q.oninput=(()=>{e.setWorkerSettings("linesBetweenMultithreadColumns",Q.checked)});let ee=document.getElementById("histogramColoring");ee.oninput=(()=>{e.setWorkerSettings("usehistogramColoring",ee.checked)});let te=document.getElementById("smoothColoring");te.oninput=(()=>{e.setWorkerSettings("useSmoothColoring",te.checked)});let ne=document.getElementById("combineData");ne.oninput=(()=>{e.setHandlerSetting("combineMultithreadedData",ne.checked)}),H.className="hide";const oe=performance.now()-o;!async function t(){let n=performance.now(),o=(n-A)/1e3;if(A=n,s.push(Math.round(1/o)),s.length>10&&s.shift(),(h.w||h.arrowup)&&(m-=T()),(h.s||h.arrowdown)&&(m+=T()),(h.a||h.arrowleft)&&(u-=T()),(h.d||h.arrowright)&&(u+=T()),(h.z||h["ctrl_="])&&(f*=.99),(h.x||h["ctrl_-"])&&(f*=1.01),!0===h[0]&&(E(k[0].name),h[0]="override"),!0===h["]"]&&(++y>9&&(y=0),function(){let e=0,t=0;switch(y){case 0:break;case 1:e=-.4,t=.6;break;case 2:e=.285;break;case 3:e=.285,t=.01;break;case 4:e=.45,t=.1428;break;case 5:e=-.70176,t=-.3842;break;case 6:e=-.835,t=-.2321;break;case 7:e=-.8,t=.156;break;case 8:e=-.7269,t=.1889;break;case 9:default:t=-.8}p.value=e,w.value=t,C()}(),h["]"]="override"),!0===h.h&&(Z=!Z,R.style.display=Z?"block":"none",h.h="override"),!0===h.shift_h&&(z.style.display="block"===z.style.display?"none":"block",h.shift_h="override"),await e.renderFrame(l,c,u,m,f),K){let e=parseInt(G.value);G.value=Math.ceil(1.5*e),e>300&&(G.value=1e3,K=!1),await U()}d++,Z&&async function(){let t=Math.round((n=s).reduce((e,t)=>e+t)/n.length);var n;q.textContent=`${a}\n\nLoad Time - ${oe.toFixed(2)}ms:\n  Multithreading: ${L.toFixed(2)}ms\n\nFrames: ${d}, FPS: ${t}\n\nPosition Information:\n  Camera Position: ${u.toPrecision(8)}, ${m.toPrecision(8)}\n  Scale: ${f.toPrecision(8)}\n\nResolution:\n  Scaled: ${l}x${c}\n  Scale Factor: ${r}\n  Raw: ${window.innerWidth}x${window.innerHeight}\n\nMultithreading:\n  Workers (Threads): ${e.multithreadingAmount} (Assumed: ${e.failedToGetThreadCount})`}(),requestAnimationFrame(t)}();var ae,ie=document.getElementsByClassName("collapsible");for(ae=0;ae<ie.length;ae++)ie[ae].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight="none"})}();
},{"./wasmHandler":"crGM"}]},{},["QdeU"], null)
//# sourceMappingURL=/app.1c3b86e6.js.map